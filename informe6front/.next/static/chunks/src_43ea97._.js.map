{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/emili/OneDrive/Escritorio/Dise%C3%B1o%20de%20Sistemas/2024/FrontGrupo13/Grupo13Front/informe6front/src/actions/persona.js"],"sourcesContent":["'use server';\r\nimport { getListaDirectores, getListaCiclista, postsPersona } from \"@/lib/api/persona\";\r\nexport async function getDirector() {\r\n    return await getListaDirectores();\r\n}\r\n\r\nexport async function getCiclistas(){\r\n    return await getListaCiclista();\r\n}\r\n\r\nexport async function agregarPersona(data){\r\n    return await postsPersona(data)\r\n}"],"names":[],"mappings":";;;;;;;IAEsB;IAIA;IAIA"}},
    {"offset": {"line": 17, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/emili/OneDrive/Escritorio/Dise%C3%B1o%20de%20Sistemas/2024/FrontGrupo13/Grupo13Front/informe6front/src/lib/api/prueba.js"],"sourcesContent":["'use service';\r\nimport axios from 'axios';\r\n\r\nexport async function postsPrueba(data) {\r\n  try {\r\n    const response = await axios.post('https://localhost:7087/api/Prueba/api/v1/createprueba', data, {\r\n      headers: { 'Content-Type': 'application/json' },\r\n    });\r\n    console.log(response)\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error al enviar datos a la API:', error.response || error.message);\r\n    console.error('Detalles del error:', {\r\n        message: error.message,\r\n        status: error.response?.status,\r\n        data: error.response?.data,\r\n      });\r\n      \r\n    throw error; // Propaga el error para manejarlo en el componente\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;AACA;AADA;;AAGO,eAAe,YAAY,IAAI;IACpC,IAAI;QACF,MAAM,WAAW,MAAM,wIAAA,CAAA,UAAK,CAAC,IAAI,CAAC,yDAAyD,MAAM;YAC/F,SAAS;gBAAE,gBAAgB;YAAmB;QAChD;QACA,QAAQ,GAAG,CAAC;QACZ,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,mCAAmC,MAAM,QAAQ,IAAI,MAAM,OAAO;QAChF,QAAQ,KAAK,CAAC,uBAAuB;YACjC,SAAS,MAAM,OAAO;YACtB,QAAQ,MAAM,QAAQ,EAAE;YACxB,MAAM,MAAM,QAAQ,EAAE;QACxB;QAEF,MAAM,OAAO,mDAAmD;IAClE;AACF"}},
    {"offset": {"line": 51, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 57, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/emili/OneDrive/Escritorio/Dise%C3%B1o%20de%20Sistemas/2024/FrontGrupo13/Grupo13Front/informe6front/src/actions/prueba.js"],"sourcesContent":["'use service';\r\n\r\nimport { postsPrueba } from \"@/lib/api/prueba\";\r\n\r\nexport async function postPrueba(data){\r\n    return await postsPrueba(data);\r\n}"],"names":[],"mappings":";;;AAEA;AAFA;;AAIO,eAAe,WAAW,IAAI;IACjC,OAAO,MAAM,CAAA,GAAA,8HAAA,CAAA,cAAW,AAAD,EAAE;AAC7B"}},
    {"offset": {"line": 69, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 75, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/emili/OneDrive/Escritorio/Dise%C3%B1o%20de%20Sistemas/2024/FrontGrupo13/Grupo13Front/informe6front/src/app/AltaPrueba/page.js"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { useRouter } from \"next/navigation\"; \r\nimport { getCiclistas } from \"@/actions/persona\";\r\nimport { postPrueba } from \"@/actions/prueba\";\r\n\r\nexport default function VistaEquipos() {\r\n  \r\n  // Estados\r\n  const [equipo, setEquipo] = useState({\r\n    nombre: \"\",\r\n    nombrePais: \"\",\r\n    nombrePersona: \"\",\r\n  });\r\n  const [err, setError] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [nombre, setNombre] = useState(\"\");\r\n  const [equiposList, setEquiposList] = useState([]);\r\n  const [ciclistas, setCiclistas] = useState([]);\r\n  const [formData, setFormData] = useState({\r\n    nombre: \"\",\r\n    añoEdicion: \"\",\r\n    cantEtapas: \"\",\r\n    kmTotales: \"\",\r\n    idPersona: \"\",\r\n  });\r\n  \r\n  // Efectos\r\n  useEffect(() => {\r\n    const fetchCiclistas = async () => {\r\n      try {\r\n        const res = await getCiclistas();\r\n        setCiclistas(res);\r\n      } catch (error) {\r\n        console.error(\"Error al obtener los ciclistas:\", error);\r\n        setError(\"No se pudieron cargar los ciclistas\");\r\n      }\r\n    };\r\n    fetchCiclistas();\r\n  }, []);\r\n  \r\n  // Funciones\r\n  const handleEquipoSelect = (selectedEquipo) => {\r\n    setEquipo({\r\n      nombre: selectedEquipo.nombre,\r\n      nombrePais: selectedEquipo.nombrePais,\r\n      nombrePersona: selectedEquipo.nombrePersona,\r\n    });\r\n    setNombre(selectedEquipo.nombre);\r\n    setEquiposList([]); \r\n  }; \r\n  \r\n  \r\n  const router = useRouter(); \r\n  \r\n  const handleApiSubmit = async () => {\r\n    try {\r\n      setLoading(true);\r\n  \r\n      const payload = {\r\n        nombre: formData.nombre,\r\n        añoEdicion: parseInt(formData.añoEdicion, 10),\r\n        cantEtapas: parseInt(formData.cantEtapas, 10),\r\n        kmTotales: parseInt(formData.kmTotales, 10),\r\n        idPersona: parseInt(formData.idPersona, 10),\r\n      };\r\n  \r\n      const response = await postPrueba(payload);\r\n      \r\n      // Verificar la respuesta completa\r\n      console.log(response);\r\n  \r\n      // Asegurarse de que la respuesta tiene el 'id'\r\n      const postId = response?.id || null; // Usar null si 'id' no existe\r\n  \r\n      if (postId) {\r\n        alert(\"Prueba cargada con éxito\");\r\n  \r\n        // Redirigir con el id del postPrueba\r\n        router.push(`/AltaPrueba/CargarPosicion?id=${postId}`);\r\n      } else {\r\n        alert(\"No se encontró el id en la respuesta.\");\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.error(\"Error al enviar los datos:\", error.response || error.message);\r\n      alert(`Ocurrió un error: ${error.response?.data?.message || error.message}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n\r\n  return (\r\n    <div className=\"flex flex-col items-center justify-center min-h-screen bg-gray-50 p-12\">\r\n      <Link href=\"/\" className=\"absolute top-4 left-4 text-xl text-blue-500 hover:underline\">\r\n        Volver al Inicio\r\n      </Link>\r\n      <div className=\"bg-gray-100 p-12 rounded-xl shadow-2xl w-full max-w-6xl space-y-10\">\r\n        <h1 className=\"text-3xl font-bold text-black\">Alta Prueba</h1>\r\n\r\n        {/* Formulario */}\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-6\">\r\n          <InputField\r\n            label=\"Año Edición\"\r\n            value={formData.añoEdicion}\r\n            onChange={(e) => setFormData({ ...formData, añoEdicion: e.target.value })}\r\n          />\r\n          <InputField\r\n            label=\"Nombre\"\r\n            value={formData.nombre}\r\n            onChange={(e) => setFormData({ ...formData, nombre: e.target.value })}\r\n          />\r\n          <InputField\r\n            label=\"Kilómetros Totales\"\r\n            value={formData.kmTotales}\r\n            onChange={(e) => setFormData({ ...formData, kmTotales: e.target.value })}\r\n          />\r\n          <InputField\r\n            label=\"Cantidad Etapas\"\r\n            value={formData.cantEtapas}\r\n            onChange={(e) => setFormData({ ...formData, cantEtapas: e.target.value })}\r\n          />\r\n          <SelectField\r\n            label=\"Ciclista Primero\"\r\n            options={ciclistas}\r\n            value={formData.idPersona}\r\n            onChange={(e) => setFormData({ ...formData, idPersona: e.target.value })}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"flex justify-end p-8\">\r\n          \r\n          <button\r\n            onClick={handleApiSubmit}\r\n            className=\"group/button relative inline-flex items-center justify-center overflow-hidden rounded-md bg-green-600 px-6 py-2 text-base font-semibold text-white transition-all duration-300 ease-in-out hover:scale-110 hover:shadow-xl\"\r\n          >\r\n            Agregar Equipo\r\n          </button>\r\n          \r\n        </div>\r\n\r\n        {/* Tabla */}\r\n        {/* <DataTable data={equiposList} /> */}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Componente auxiliar para inputs\r\nconst InputField = ({ label, value, onChange }) => (\r\n  <div className=\"col-span-1\">\r\n    <label className=\"block text-lg font-medium mb-2 text-black\">{label}</label>\r\n    <input\r\n      type=\"text\"\r\n      className=\"w-full p-4 border rounded-lg shadow-sm bg-white text-black outline-none\"\r\n      value={value}\r\n      onChange={onChange}\r\n    />\r\n  </div>\r\n);\r\n\r\n// Componente auxiliar para selects\r\nconst SelectField = ({ label, options, value, onChange }) => (\r\n  <div className=\"col-span-1\">\r\n    <label className=\"block text-lg font-medium mb-3 text-black\">{label}</label>\r\n    <select\r\n      value={value}\r\n      onChange={onChange}\r\n      className=\"w-full p-4 border rounded-lg shadow-sm bg-white text-black outline-none\"\r\n    >\r\n      <option value=\"\">Seleccionar Ciclista</option>\r\n      {options.map((opt) => (\r\n        <option key={opt.id} value={opt.id}>\r\n          {opt.nombre} {opt.apellido}\r\n        </option>\r\n      ))}\r\n    </select>\r\n  </div>\r\n);\r\n\r\n// Componente auxiliar para la tabla\r\nconst DataTable = ({ data }) => (\r\n  <div className=\"overflow-x-auto\">\r\n    <table className=\"w-full border-collapse border border-gray-300 text-black\">\r\n      <thead>\r\n        <tr className=\"bg-gray-200\">\r\n          <th className=\"border border-gray-300 p-4 text-left font-semibold\">Número</th>\r\n          <th className=\"border border-gray-300 p-4 text-left font-semibold\">Equipo</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {data.length > 0 ? (\r\n          data.map((item, index) => (\r\n            <tr key={index} className=\"bg-white\">\r\n              <td className=\"border border-gray-300 p-4\">{item.id}</td>\r\n              <td className=\"border border-gray-300 p-4\">{item.nombre}</td>\r\n            </tr>\r\n          ))\r\n        ) : (\r\n          <tr>\r\n            <td colSpan=\"3\" className=\"border border-gray-300 p-4 text-center\">\r\n              No hay equipos cargados\r\n            </td>\r\n          </tr>\r\n        )}\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n);\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 478, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}