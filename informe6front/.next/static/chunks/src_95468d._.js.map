{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/emili/OneDrive/Escritorio/Dise%C3%B1o%20de%20Sistemas/2024/FrontGrupo13/Grupo13Front/informe6front/src/actions/pais.js"],"sourcesContent":["'use server';\r\nimport { getListaPaises } from \"@/lib/api/pais\";\r\nexport async function getPais() {\r\n    return await getListaPaises();\r\n}"],"names":[],"mappings":";;;;;IAEsB"}},
    {"offset": {"line": 13, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/emili/OneDrive/Escritorio/Dise%C3%B1o%20de%20Sistemas/2024/FrontGrupo13/Grupo13Front/informe6front/src/actions/persona.js"],"sourcesContent":["'use server';\r\nimport { getListaDirectores, getListaCiclista, postsPersona } from \"@/lib/api/persona\";\r\nexport async function getDirector() {\r\n    return await getListaDirectores();\r\n}\r\n\r\nexport async function getCiclistas(){\r\n    return await getListaCiclista();\r\n}\r\n\r\nexport async function agregarPersona(data){\r\n    return await postsPersona(data)\r\n}"],"names":[],"mappings":";;;;;;;IAEsB;IAIA;IAIA"}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 35, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/emili/OneDrive/Escritorio/Dise%C3%B1o%20de%20Sistemas/2024/FrontGrupo13/Grupo13Front/informe6front/src/app/AltaPersona/page.js"],"sourcesContent":["'use client';\r\nimport Link from \"next/link\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { getPais } from \"@/actions/pais\";\r\nimport { agregarPersona } from \"@/actions/persona\";\r\n\r\nexport default function VistaEquipos() {\r\n  const [formData, setFormData] = useState({\r\n    nombre: \"\",\r\n    apellido: \"\",\r\n    dni: \"\",\r\n    fechaNacimiento: \"\",\r\n    idPais: \"\",\r\n    rol: true,\r\n  });\r\n\r\n  const [paises, setPaises] = useState([]);\r\n  const [error, setError] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  \r\n  \r\n\r\n  useEffect(() => {\r\n\r\n    const fetchData = async () => {\r\n      try {\r\n        const nombrePais = await getPais();\r\n        setPaises(nombrePais);\r\n      } catch (error) {\r\n        console.error(\"Error al obtener los datos:\", error);\r\n        setError(\"No se pudieron cargar los datos\");\r\n      }\r\n    };\r\n    fetchData();\r\n  }, []);  // This ensures useEffect runs only on client-side\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    setFormData({\r\n      ...formData,\r\n      [name]: type === \"checkbox\" ? checked : value,\r\n    });\r\n  };\r\n\r\n  const handleApiSubmit = async () => {\r\n    try {\r\n      setLoading(true);\r\n\r\n      const payload = {\r\n        nombre: formData.nombre,\r\n        apellido: formData.apellido,\r\n        dni: parseInt(formData.dni, 10),\r\n        fechaNacimiento: new Date(formData.fechaNacimiento).toISOString(),\r\n        idPais: parseInt(formData.idPais, 10),\r\n        rol: formData.rol\r\n      };\r\n\r\n      console.log(\"Enviando datos:\", payload);\r\n\r\n      const response = await agregarPersona(payload);\r\n\r\n      console.log(\"Datos enviados con éxito:\", response);\r\n      alert(\"Persona registrada con éxito.\");\r\n\r\n      setFormData({\r\n        nombre: \"\",\r\n        apellido: \"\",\r\n        dni: \"\",\r\n        fechaNacimiento: \"\",\r\n        idPais: \"\",\r\n        rol: true,\r\n      });\r\n      \r\n      \r\n    } catch (err) {\r\n      console.error(\"Error al enviar los datos:\", err);\r\n      alert(`Ocurrió un error: ${err.message}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const confirm = window.confirm(\"¿Estás seguro de que deseas registrar esta persona?\");\r\n    if (confirm) {\r\n      handleApiSubmit();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col items-center justify-center min-h-screen bg-gray-50 p-12\">\r\n      <Link href=\"/\" className=\"absolute top-4 left-4 text-xl text-blue-500 hover:underline\">\r\n        Volver al Inicio\r\n      </Link>\r\n      \r\n      <div className=\"bg-gray-100 p-12 rounded-xl shadow-2xl w-full max-w-6xl space-y-10\">\r\n        <h1 className=\"text-3xl font-bold text-black\">Alta Persona</h1>\r\n\r\n        {/* Formulario */}\r\n        <form onSubmit={handleSubmit} className=\"grid grid-cols-1 sm:grid-cols-2 gap-6\">\r\n          {/* Nombre */}\r\n          <div className=\"col-span-1\">\r\n            <label className=\"block text-lg font-medium mb-2 text-black\">Nombre</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"nombre\"\r\n              value={formData.nombre}\r\n              onChange={handleChange}\r\n              className=\"w-full p-4 border rounded-lg shadow-sm bg-white text-black outline-none\"\r\n            />\r\n          </div>\r\n\r\n          {/* Apellido */}\r\n          <div className=\"col-span-1\">\r\n            <label className=\"block text-lg font-medium mb-2 text-black\">Apellido</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"apellido\"\r\n              value={formData.apellido}\r\n              onChange={handleChange}\r\n              className=\"w-full p-4 border rounded-lg shadow-sm bg-white text-black outline-none\"\r\n            />\r\n          </div>\r\n\r\n          {/* DNI */}\r\n          <div className=\"col-span-1\">\r\n            <label className=\"block text-lg font-medium mb-2 text-black\">DNI</label>\r\n            <input\r\n              type=\"number\"\r\n              name=\"dni\"\r\n              value={formData.dni}\r\n              onChange={handleChange}\r\n              className=\"w-full p-4 border rounded-lg shadow-sm bg-white text-black outline-none\"\r\n            />\r\n          </div>\r\n\r\n          {/* Fecha de Nacimiento */}\r\n          <div className=\"col-span-1\">\r\n            <label className=\"block text-lg font-medium mb-2 text-black\">Fecha de Nacimiento</label>\r\n            <input\r\n              type=\"date\"\r\n              name=\"fechaNacimiento\"\r\n              value={formData.fechaNacimiento}\r\n              onChange={handleChange}\r\n              className=\"w-full p-4 border rounded-lg shadow-sm bg-white text-black outline-none\"\r\n            />\r\n          </div>\r\n\r\n          {/* País */}\r\n          <div className=\"col-span-1\">\r\n            <label className=\"block text-lg font-medium mb-3 text-black\" htmlFor=\"idPais\">\r\n              País\r\n            </label>\r\n            <select\r\n              id=\"idPais\"\r\n              name=\"idPais\"\r\n              value={formData.idPais}\r\n              onChange={handleChange}\r\n              className=\"w-full p-4 border rounded-lg shadow-sm bg-white text-black outline-none\"\r\n            >\r\n              <option value=\"\">Selecciona un país</option>\r\n              {paises.length > 0 ? (\r\n                paises.map((pais) => (\r\n                  <option key={pais.id} value={pais.id}>\r\n                    {pais.nombre}\r\n                  </option>\r\n                ))\r\n              ) : (\r\n                <option disabled>Cargando países...</option>\r\n              )}\r\n            </select>\r\n            {error && <p className=\"text-red-500 mt-2\">{error}</p>}\r\n          </div>\r\n\r\n          {/* Botón */}\r\n          <div className=\"col-span-2 flex justify-end pt-8\">\r\n            <button\r\n              type=\"submit\"\r\n              className={`bg-green-600 px-6 py-2 text-white font-semibold rounded-md shadow-lg hover:scale-110 hover:shadow-xl transition-all duration-300 ${\r\n                loading ? \"opacity-50 cursor-not-allowed\" : \"\"\r\n              }`}\r\n              disabled={loading}\r\n            >\r\n              {loading ? \"Enviando...\" : \"Guardar Datos\"}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 367, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}