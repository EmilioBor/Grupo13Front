{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/emili/OneDrive/Escritorio/Dise%C3%B1o%20de%20Sistemas/2024/FrontGrupo13/Grupo13Front/informe6front/src/app/AltaPrueba/page.js"],"sourcesContent":["\"use client\";\r\nimport { useState, useEffect } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { getsEquipo } from \"@/actions/equipo\";\r\nimport { getContratoEquipo } from \"@/actions/contraro\";\r\nimport { getCiclistas } from \"@/actions/persona\";\r\n\r\n\r\nexport default function VistaEquipos() {\r\n  const [equipo, setEquipo] = useState({\r\n    nombre: \"\",\r\n    nombrePais: \"\",\r\n    nombrePersona: \"\",\r\n  });\r\n  const [err, setError] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [nombre, setNombre] = useState(\"\"); \r\n  const [equiposList, setEquiposList] = useState([]); \r\n  const [listEquipo, setListEquipo] = useState([]); \r\n  const [ciclistas, setCiclistas] = useState([]); \r\n  const [nuevoCiclista, setNuevoCiclista] = useState({\r\n    nombre: \"\",\r\n    fechaInicio: \"\",\r\n    fechaFin: \"\",\r\n  });\r\n  const [searchCiclistaQuery, setSearchCiclistaQuery] = useState(\"\"); \r\n  const [filteredCiclistas, setFilteredCiclistas] = useState([]); \r\n  const [formData, setFormData] = useState({\r\n    nombre: \"\",\r\n    añoEdicion: \"\",\r\n    cantEtapas: \"\",\r\n    kmTotales: \"\",\r\n    idPersona: \"\",\r\n  });\r\n\r\n  // Obtener los ciclistas\r\n  useEffect(() => {\r\n    const fetchCiclistas = async () => {\r\n      try {\r\n        const res = await getCiclistas();\r\n        setCiclistas(res);\r\n        setFilteredCiclistas(res);\r\n      } catch (error) {\r\n        console.error(\"Error al obtener los ciclistas:\", error);\r\n        setError(\"No se pudieron cargar los ciclistas\");\r\n      }\r\n    };\r\n    fetchCiclistas();\r\n  }, []);\r\n\r\n  const handleEquipoSelect = (selectedEquipo) => {\r\n    setEquipo({\r\n      nombre: selectedEquipo.nombre,\r\n      nombrePais: selectedEquipo.nombrePais,\r\n      nombrePersona: selectedEquipo.nombrePersona,\r\n    });\r\n    setNombre(selectedEquipo.nombre); \r\n    setEquiposList([]); \r\n\r\n    useEffect(() => {\r\n      const fetchEquipo = async () => {\r\n        try {\r\n          const Equipo = await getContratoEquipo();\r\n          setListEquipo(Equipo); \r\n        } catch (error) {\r\n          console.error(\"Error al obtener los Equipo:\", error);\r\n          setError(\"No se pudieron cargar los Equipo\");\r\n        }\r\n      };\r\n      fetchEquipo();\r\n    }, []);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const equiposGuardados = localStorage.getItem(\"tablaEquipos\");\r\n    if (equiposGuardados) {\r\n      setListEquipo(JSON.parse(equiposGuardados));\r\n    }\r\n  }, []);\r\n\r\n  const handleApiSubmit = async () => {\r\n    try {\r\n      console.log(\"Enviando datos:\", formData);\r\n      setLoading(true);\r\n\r\n      const response = await postPrueba(formData);\r\n\r\n      console.log(\"Datos enviados con éxito:\", response);\r\n      alert(\"Prueba cargada con éxito\");\r\n    } catch (err) {\r\n      console.error(\"Error al enviar los datos:\", err);\r\n      alert(`Ocurrió un error: ${err.message}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const confirm = window.confirm(\"¿Estás seguro de que deseas registrar este equipo?\");\r\n    if (confirm) {\r\n      handleApiSubmit();\r\n    }\r\n  };\r\n\r\n  // Función para manejar el cambio en el campo de búsqueda\r\n  const handleSearchChange = (e) => {\r\n    const value = e.target.value;\r\n    setSearchCiclistaQuery(value);\r\n\r\n    if (value.trim() !== \"\") {\r\n      const filtered = ciclistas.filter((ciclista) =>\r\n        `${ciclista.nombre} ${ciclista.apellido}`.toLowerCase().includes(value.toLowerCase())\r\n      );\r\n      setFilteredCiclistas(filtered);\r\n    } else {\r\n      setFilteredCiclistas(ciclistas);\r\n    }\r\n  };\r\n\r\n  // Manejo de la selección del ciclista\r\n  const handleSelectCiclista = (id, nombreCompleto) => {\r\n    setNuevoCiclista({ ...nuevoCiclista, nombre: nombreCompleto });\r\n    setSearchCiclistaQuery(\"\"); \r\n    setFilteredCiclistas(ciclistas); \r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col items-center justify-center min-h-screen bg-gray-50 p-12\">\r\n      <Link href=\"/\" className=\"absolute top-4 left-4 text-xl text-blue-500 hover:underline\">\r\n        Volver al Inicio\r\n      </Link>  \r\n      <div className=\"bg-gray-100 p-12 rounded-xl shadow-2xl w-full max-w-6xl space-y-10\">\r\n        <h1 className=\"text-3xl font-bold text-black\">Alta Prueba</h1>\r\n\r\n        {/* Formulario */}\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-6\">\r\n          {/* Año Edición */}\r\n          <div className=\"col-span-1 sm:col-span-1\">\r\n            <label className=\"block text-lg font-medium mb-2 text-black\">Año Edición</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"w-full p-4 border rounded-lg shadow-sm bg-white text-black outline-none\"\r\n              value={formData.añoEdicion}\r\n              onChange={(e) => setFormData({ ...formData, añoEdicion: e.target.value })}\r\n            />\r\n          </div>\r\n\r\n          {/* Nombre */}\r\n          <div className=\"col-span-1 sm:col-span-1\">\r\n            <label className=\"block text-lg font-medium mb-2 text-black\">Nombre</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"w-full p-4 border rounded-lg shadow-sm bg-white text-black outline-none\"\r\n              value={formData.nombre}\r\n              onChange={(e) => setFormData({ ...formData, nombre: e.target.value })}\r\n            />\r\n          </div>\r\n\r\n          {/* Kilómetros Totales */}\r\n          <div className=\"col-span-1 sm:col-span-1\">\r\n            <label className=\"block text-lg font-medium mb-2 text-black\">Kilómetros Totales</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"w-full p-4 border rounded-lg shadow-sm bg-white text-black outline-none\"\r\n              value={formData.kmTotales}\r\n              onChange={(e) => setFormData({ ...formData, kmTotales: e.target.value })}\r\n            />\r\n          </div>\r\n\r\n          {/* Cantidad Etapas */}\r\n          <div className=\"col-span-1 sm:col-span-1\">\r\n            <label className=\"block text-lg font-medium mb-2 text-black\">Cantidad Etapas</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"w-full p-4 border rounded-lg shadow-sm bg-white text-black outline-none\"\r\n              value={formData.cantEtapas}\r\n              onChange={(e) => setFormData({ ...formData, cantEtapas: e.target.value })}\r\n            />\r\n          </div>\r\n\r\n          {/* Ciclista Primero */}\r\n          <div>\r\n            <label className=\"block text-lg font-medium mb-3 text-black\" htmlFor=\"director\">\r\n              Ciclista Primero\r\n            </label>\r\n            <div className=\"flex items-center border rounded-lg shadow-sm bg-white\">\r\n              <select\r\n                id=\"idPersona\"\r\n                name=\"idPersona\"\r\n                value={formData.idPersona}\r\n                onChange={(e) => setFormData({ ...formData, idPersona: e.target.value })}\r\n                className=\"flex-1 px-4 py-3 outline-none text-black\"\r\n              >\r\n                <option value=\"\">Buscar Ciclista</option>\r\n                {ciclistas.map((dir) => (\r\n                  <option key={dir.id} value={dir.id}>\r\n                    {dir.nombre} {dir.apellido}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Botón Agregar Ciclista */}\r\n        <div className=\"flex justify-end p-8\">\r\n          <button\r\n            onClick={handleSubmit}\r\n            className=\"group/button relative inline-flex items-center justify-center overflow-hidden rounded-md bg-green-600 backdrop-blur-lg px-6 py-2 text-base font-semibold text-white transition-all duration-300 ease-in-out hover:scale-110 hover:shadow-xl hover:shadow-gray-600/50 border border-white/20\"\r\n          >\r\n            Agregar Equipo\r\n          </button>\r\n        </div>\r\n\r\n        {/* Tabla de Equipo */}\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"w-full border-collapse border border-gray-300 text-black\">\r\n            <thead>\r\n              <tr className=\"bg-gray-200\">\r\n                <th className=\"border border-gray-300 p-4 text-center font-semibold\">Número</th>\r\n                <th className=\"border border-gray-300 p-4 text-center font-semibold\">Equipo</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {listEquipo.map((equipo) => (\r\n                <tr key={equipo.id}>\r\n                  <td className=\"border border-gray-300 p-4 text-center\">{equipo.id}</td>\r\n                  <td className=\"border border-gray-300 p-4 text-center\">{equipo.nombre}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 457, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 467, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/emili/OneDrive/Escritorio/Dise%C3%B1o%20de%20Sistemas/2024/FrontGrupo13/Grupo13Front/informe6front/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n    } else if (process.env.TURBOPACK) {\n      module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n    } else {\n      module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n    } else if (process.env.TURBOPACK) {\n      module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n    } else {\n      module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":";AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,MAAQ;;AAEzC,OAAO;IACL,IAAIF,QAAQC,GAAG,CAACK,uBAA2B,EAAF;;IAQzC,OAAO;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1CJ,OAAOC,OAAO,GAAGC,QAAQ;QAC3B,OAAO,IAAIL,QAAQC,GAAG,CAACO,SAAS,EAAE;;QAIlC;IACF;AACF","ignoreList":[0]}},
    {"offset": {"line": 481, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 486, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/emili/OneDrive/Escritorio/Dise%C3%B1o%20de%20Sistemas/2024/FrontGrupo13/Grupo13Front/informe6front/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored[\n  'react-ssr'\n].ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,0HAAyBC,QAAQ,CACxD,YACD,CAACC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 488, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}